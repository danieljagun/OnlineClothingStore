{"ast":null,"code":"import axios from 'axios';\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\naxios.interceptors.request.use(function (config) {\n  const noAuthNeeded = [{\n    method: 'GET',\n    path: '/items'\n  }, {\n    method: 'POST',\n    path: '/orders'\n  }];\n  const isNoAuthNeeded = noAuthNeeded.some(rule => config.url.includes(rule.path) && config.method.toLowerCase() === rule.method.toLowerCase());\n  if (isNoAuthNeeded) {\n    console.log(\"Authorization header removed for specific request:\", config.url);\n    delete config.headers.Authorization;\n  }\n  return config;\n}, function (error) {\n  return Promise.reject(error);\n});\n\n// Items\nexport const fetchItems = (searchParams, token) => {\n  return axios.get(`${API_URL}/items`, {\n    params: searchParams,\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n};\nexport const fetchItemById = id => axios.get(`${API_URL}/items/${id}`);\nexport const createItem = (itemData, token) => {\n  return axios.post(`${API_URL}/items`, itemData, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n};\nexport const updateItem = (id, itemData, token) => axios.put(`${API_URL}/items/${id}`, itemData, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const deleteItem = (id, token) => axios.delete(`${API_URL}/items/${id}`, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\n\n// Orders\nexport const fetchOrders = token => {\n  return axios.get(`${API_URL}/orders`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n};\nexport const createOrder = orderData => {\n  return axios.post(`${API_URL}/orders`, orderData).catch(error => {\n    console.error(\"Error creating order:\", error.response);\n    throw error;\n  });\n};\n\n// Reviews\nexport const fetchReviewsForItem = itemId => axios.get(`${API_URL}/reviews/item/${itemId}`);\nexport const postReview = (reviewData, token) => axios.post(`${API_URL}/reviews`, reviewData, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\n\n// Users\nexport const registerUser = userData => axios.post(`${API_URL}/users/register`, userData);\nexport const loginUser = loginData => axios.post(`${API_URL}/users/login`, loginData);","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","interceptors","request","use","config","noAuthNeeded","method","path","isNoAuthNeeded","some","rule","url","includes","toLowerCase","console","log","headers","Authorization","error","Promise","reject","fetchItems","searchParams","token","get","params","fetchItemById","id","createItem","itemData","post","updateItem","put","deleteItem","delete","fetchOrders","createOrder","orderData","catch","response","fetchReviewsForItem","itemId","postReview","reviewData","registerUser","userData","loginUser","loginData"],"sources":["/Users/daniel/Desktop/OnlineClothingStore/client/src/services/ApiService.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\naxios.interceptors.request.use(function (config) {\n\n    const noAuthNeeded = [\n        { method: 'GET', path: '/items' },\n        { method: 'POST', path: '/orders' }\n    ];\n\n    const isNoAuthNeeded = noAuthNeeded.some(rule =>\n        config.url.includes(rule.path) && config.method.toLowerCase() === rule.method.toLowerCase()\n    );\n\n    if (isNoAuthNeeded) {\n        console.log(\"Authorization header removed for specific request:\", config.url);\n        delete config.headers.Authorization;\n    }\n\n    return config;\n}, function (error) {\n\n    return Promise.reject(error);\n});\n\n// Items\nexport const fetchItems = (searchParams, token) => {\n    return axios.get(`${API_URL}/items`, {\n        params: searchParams,\n        headers: { Authorization: `Bearer ${token}` }\n    });\n};\nexport const fetchItemById = (id) => axios.get(`${API_URL}/items/${id}`);\nexport const createItem = (itemData, token) => {\n    return axios.post(`${API_URL}/items`, itemData, {\n        headers: { Authorization: `Bearer ${token}` }\n    });\n};\nexport const updateItem = (id, itemData, token) => axios.put(`${API_URL}/items/${id}`, itemData, {\n    headers: { Authorization: `Bearer ${token}` }\n});\nexport const deleteItem = (id, token) => axios.delete(`${API_URL}/items/${id}`, {\n    headers: { Authorization: `Bearer ${token}` }\n});\n\n// Orders\nexport const fetchOrders = (token) => {\n    return axios.get(`${API_URL}/orders`, {\n        headers: { Authorization: `Bearer ${token}` }\n    });\n};\nexport const createOrder = (orderData) => {\n    return axios.post(`${API_URL}/orders`, orderData)\n        .catch(error => {\n            console.error(\"Error creating order:\", error.response);\n            throw error;\n        });\n};\n\n// Reviews\nexport const fetchReviewsForItem = (itemId) => axios.get(`${API_URL}/reviews/item/${itemId}`);\nexport const postReview = (reviewData, token) => axios.post(`${API_URL}/reviews`, reviewData, {\n    headers: { Authorization: `Bearer ${token}` }\n});\n\n// Users\nexport const registerUser = (userData) => axios.post(`${API_URL}/users/register`, userData);\nexport const loginUser = (loginData) => axios.post(`${API_URL}/users/login`, loginData);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}