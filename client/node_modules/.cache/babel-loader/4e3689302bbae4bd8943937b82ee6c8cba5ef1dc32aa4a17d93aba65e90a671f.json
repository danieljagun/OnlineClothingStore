{"ast":null,"code":"var _jsxFileName = \"/Users/daniel/Desktop/OnlineClothingStore/client/src/components/Checkout.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useCart } from '../context/CartContext';\nimport { useAuth } from '../context/authContext';\nimport { createOrder } from '../services/apiService';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Checkout() {\n  _s();\n  const {\n    cart,\n    clearCart\n  } = useCart();\n  const {\n    authState\n  } = useAuth();\n  const [formData, setFormData] = useState({\n    cardNumber: '',\n    expirationDate: '',\n    cvv: '',\n    shippingAddress: '',\n    email: ''\n  });\n  const navigate = useNavigate();\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const orderData = {\n      user: authState.user._id,\n      items: cart.items.map(item => ({\n        item: item._id,\n        quantity: item.quantity\n      })),\n      paymentDetails: {\n        cardNumber: formData.cardNumber,\n        expirationDate: formData.expirationDate,\n        cvv: formData.cvv\n      },\n      shippingAddress: formData.shippingAddress,\n      email: formData.email\n    };\n    try {\n      const response = await createOrder(orderData, authState.token);\n      navigate('/confirmation', {\n        state: {\n          orderDetails: response.data\n        }\n      });\n      clearCart();\n    } catch (error) {\n      console.error('Failed to place order:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Place Order\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\n_s(Checkout, \"DveQCrLN+tai0XeMNvvE7CPZ9ts=\", false, function () {\n  return [useCart, useAuth, useNavigate];\n});\n_c = Checkout;\nexport default Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["React","useState","useCart","useAuth","createOrder","useNavigate","jsxDEV","_jsxDEV","Checkout","_s","cart","clearCart","authState","formData","setFormData","cardNumber","expirationDate","cvv","shippingAddress","email","navigate","handleInputChange","e","name","value","target","prevState","handleSubmit","preventDefault","orderData","user","_id","items","map","item","quantity","paymentDetails","response","token","state","orderDetails","data","error","console","onSubmit","children","type","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/daniel/Desktop/OnlineClothingStore/client/src/components/Checkout.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useCart } from '../context/CartContext';\nimport { useAuth } from '../context/authContext';\nimport { createOrder } from '../services/apiService';\nimport { useNavigate } from 'react-router-dom';\n\nfunction Checkout() {\n    const { cart, clearCart } = useCart();\n    const { authState } = useAuth();\n    const [formData, setFormData] = useState({\n        cardNumber: '',\n        expirationDate: '',\n        cvv: '',\n        shippingAddress: '',\n        email: ''\n    });\n    const navigate = useNavigate();\n\n    const handleInputChange = (e) => {\n        const { name, value } = e.target;\n        setFormData(prevState => ({\n            ...prevState,\n            [name]: value\n        }));\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const orderData = {\n            user: authState.user._id,\n            items: cart.items.map(item => ({ item: item._id, quantity: item.quantity })),\n            paymentDetails: {\n                cardNumber: formData.cardNumber,\n                expirationDate: formData.expirationDate,\n                cvv: formData.cvv\n            },\n            shippingAddress: formData.shippingAddress,\n            email: formData.email\n        };\n\n        try {\n            const response = await createOrder(orderData, authState.token);\n            navigate('/confirmation', { state: { orderDetails: response.data } });\n            clearCart();\n        } catch (error) {\n            console.error('Failed to place order:', error);\n        }\n    };\n\n    return (\n        <form onSubmit={handleSubmit}>\n            {/* Input fields for payment details, shipping address, and email */}\n            <button type=\"submit\">Place Order</button>\n        </form>\n    );\n}\n\nexport default Checkout;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,WAAW,QAAQ,wBAAwB;AACpD,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAChB,MAAM;IAAEC,IAAI;IAAEC;EAAU,CAAC,GAAGT,OAAO,CAAC,CAAC;EACrC,MAAM;IAAEU;EAAU,CAAC,GAAGT,OAAO,CAAC,CAAC;EAC/B,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC;IACrCc,UAAU,EAAE,EAAE;IACdC,cAAc,EAAE,EAAE;IAClBC,GAAG,EAAE,EAAE;IACPC,eAAe,EAAE,EAAE;IACnBC,KAAK,EAAE;EACX,CAAC,CAAC;EACF,MAAMC,QAAQ,GAAGf,WAAW,CAAC,CAAC;EAE9B,MAAMgB,iBAAiB,GAAIC,CAAC,IAAK;IAC7B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChCX,WAAW,CAACY,SAAS,KAAK;MACtB,GAAGA,SAAS;MACZ,CAACH,IAAI,GAAGC;IACZ,CAAC,CAAC,CAAC;EACP,CAAC;EAED,MAAMG,YAAY,GAAG,MAAOL,CAAC,IAAK;IAC9BA,CAAC,CAACM,cAAc,CAAC,CAAC;IAClB,MAAMC,SAAS,GAAG;MACdC,IAAI,EAAElB,SAAS,CAACkB,IAAI,CAACC,GAAG;MACxBC,KAAK,EAAEtB,IAAI,CAACsB,KAAK,CAACC,GAAG,CAACC,IAAI,KAAK;QAAEA,IAAI,EAAEA,IAAI,CAACH,GAAG;QAAEI,QAAQ,EAAED,IAAI,CAACC;MAAS,CAAC,CAAC,CAAC;MAC5EC,cAAc,EAAE;QACZrB,UAAU,EAAEF,QAAQ,CAACE,UAAU;QAC/BC,cAAc,EAAEH,QAAQ,CAACG,cAAc;QACvCC,GAAG,EAAEJ,QAAQ,CAACI;MAClB,CAAC;MACDC,eAAe,EAAEL,QAAQ,CAACK,eAAe;MACzCC,KAAK,EAAEN,QAAQ,CAACM;IACpB,CAAC;IAED,IAAI;MACA,MAAMkB,QAAQ,GAAG,MAAMjC,WAAW,CAACyB,SAAS,EAAEjB,SAAS,CAAC0B,KAAK,CAAC;MAC9DlB,QAAQ,CAAC,eAAe,EAAE;QAAEmB,KAAK,EAAE;UAAEC,YAAY,EAAEH,QAAQ,CAACI;QAAK;MAAE,CAAC,CAAC;MACrE9B,SAAS,CAAC,CAAC;IACf,CAAC,CAAC,OAAO+B,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAClD;EACJ,CAAC;EAED,oBACInC,OAAA;IAAMqC,QAAQ,EAAEjB,YAAa;IAAAkB,QAAA,eAEzBtC,OAAA;MAAQuC,IAAI,EAAC,QAAQ;MAAAD,QAAA,EAAC;IAAW;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACxC,CAAC;AAEf;AAACzC,EAAA,CAjDQD,QAAQ;EAAA,QACeN,OAAO,EACbC,OAAO,EAQZE,WAAW;AAAA;AAAA8C,EAAA,GAVvB3C,QAAQ;AAmDjB,eAAeA,QAAQ;AAAC,IAAA2C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}