{"ast":null,"code":"var _jsxFileName = \"/Users/daniel/Desktop/OnlineClothingStore/client/src/components/AdminDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useApi } from '../hooks/useApi';\nimport { useAuth } from '../context/authContext'; // Make sure to import useAuth if you're using it for token.\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AdminDashboard() {\n  _s();\n  const {\n    fetchItems,\n    updateItem,\n    deleteItem,\n    fetchOrders\n  } = useApi();\n  const [items, setItems] = useState([]);\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const {\n    token\n  } = useAuth(); // If authentication token is required\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const fetchedItems = await fetchItems();\n        setItems(fetchedItems.data); // Assuming the API returns data in this structure\n        const fetchedOrders = await fetchOrders(token);\n        setOrders(fetchedOrders.data);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchData();\n  }, [fetchItems, fetchOrders, token]);\n  const handleUpdateStock = async (itemId, newStock) => {\n    await updateItem(itemId, {\n      stock: newStock\n    }, token);\n    const updatedItems = await fetchItems();\n    setItems(updatedItems.data);\n  };\n  const handleDeleteItem = async itemId => {\n    await deleteItem(itemId, token);\n    const updatedItems = await fetchItems();\n    setItems(updatedItems.data);\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading dashboard...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Admin Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Inventory\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: items.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [item.name, \" - In Stock: \", item.stock, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleUpdateStock(item._id, item.stock + 1),\n          children: \"Increase Stock\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleUpdateStock(item._id, item.stock - 1),\n          children: \"Decrease Stock\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDeleteItem(item._id),\n          children: \"Delete Item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }, this)]\n      }, item._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Orders\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: orders.map(order => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [\"Order ID: \", order._id, \", Total: $\", order.total, \", User ID: \", order.user]\n      }, order._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n}\n_s(AdminDashboard, \"iLtUn8TUfjfJU1jIgBq0NF4l9iA=\", false, function () {\n  return [useApi, useAuth];\n});\n_c = AdminDashboard;\nexport default AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useApi","useAuth","jsxDEV","_jsxDEV","AdminDashboard","_s","fetchItems","updateItem","deleteItem","fetchOrders","items","setItems","orders","setOrders","loading","setLoading","token","fetchData","fetchedItems","data","fetchedOrders","error","console","handleUpdateStock","itemId","newStock","stock","updatedItems","handleDeleteItem","children","fileName","_jsxFileName","lineNumber","columnNumber","map","item","name","onClick","_id","order","total","user","_c","$RefreshReg$"],"sources":["/Users/daniel/Desktop/OnlineClothingStore/client/src/components/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useApi } from '../hooks/useApi';\nimport { useAuth } from '../context/authContext'; // Make sure to import useAuth if you're using it for token.\n\nfunction AdminDashboard() {\n    const { fetchItems, updateItem, deleteItem, fetchOrders } = useApi();\n    const [items, setItems] = useState([]);\n    const [orders, setOrders] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const { token } = useAuth(); // If authentication token is required\n\n    useEffect(() => {\n        async function fetchData() {\n            try {\n                const fetchedItems = await fetchItems();\n                setItems(fetchedItems.data); // Assuming the API returns data in this structure\n                const fetchedOrders = await fetchOrders(token);\n                setOrders(fetchedOrders.data);\n            } catch (error) {\n                console.error(\"Error fetching data:\", error);\n            } finally {\n                setLoading(false);\n            }\n        }\n        fetchData();\n    }, [fetchItems, fetchOrders, token]);\n\n    const handleUpdateStock = async (itemId, newStock) => {\n        await updateItem(itemId, { stock: newStock }, token);\n        const updatedItems = await fetchItems();\n        setItems(updatedItems.data);\n    };\n\n    const handleDeleteItem = async (itemId) => {\n        await deleteItem(itemId, token);\n        const updatedItems = await fetchItems();\n        setItems(updatedItems.data);\n    };\n\n    if (loading) return <p>Loading dashboard...</p>;\n\n    return (\n        <div>\n            <h1>Admin Dashboard</h1>\n            <h2>Inventory</h2>\n            <ul>\n                {items.map(item => (\n                    <li key={item._id}>\n                        {item.name} - In Stock: {item.stock}\n                        <button onClick={() => handleUpdateStock(item._id, item.stock + 1)}>Increase Stock</button>\n                        <button onClick={() => handleUpdateStock(item._id, item.stock - 1)}>Decrease Stock</button>\n                        <button onClick={() => handleDeleteItem(item._id)}>Delete Item</button>\n                    </li>\n                ))}\n            </ul>\n            <h2>Orders</h2>\n            <ul>\n                {orders.map(order => (\n                    <li key={order._id}>\n                        Order ID: {order._id}, Total: ${order.total}, User ID: {order.user}\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n}\n\nexport default AdminDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}